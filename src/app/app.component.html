<div class="chart-container" [ngClass]="theme === 'dark' ? 'dark-mode' : 'light-mode'">
  <canvas
    baseChart
    chartType="bar"
    [datasets]="datasets"
    [labels]="labels"
    [options]="options1"
    [legend]="true"
  ></canvas>
</div>

<div class="chart-container" [ngClass]="theme === 'dark' ? 'dark-mode' : 'light-mode'">
  <canvas
    baseChart
    [datasets]="barChartData"
    [labels]="barChartLabels"
    [options]="barChartOptions"
    [plugins]="[yearPlugin]"
    [legend]="barChartLegend"
    chartType="barChartType"
  >
  </canvas>
</div>

<div *ngIf="!showTable" style="display: block" class="chart-container" [ngClass]="theme === 'dark' ? 'dark-mode' : 'light-mode'">
  <canvas
    #chart
    baseChart
    [datasets]="chartData.datasets"
    [labels]="chartData.labels"
    [options]="chartOptions"
    chartType="chartType"
  >
  </canvas>
</div>

<!-- Display the table after the third level -->
<div *ngIf="showTable">
  <table>
    <thead>
      <tr>
        <th>Category</th>
        <th>Value</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of tableData">
        <td>{{ row.category }}</td>
        <td>{{ row.value }}</td>
        <td>{{ row.details }}</td>
      </tr>
    </tbody>
  </table>
</div>
